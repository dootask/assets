# DooTask AI æ™ºèƒ½ä½“æ’ä»¶

<div align="center">

# ğŸ¤– DooTask AI æ™ºèƒ½ä½“æ’ä»¶

åŸºäº **DooTask** ä¸»ç¨‹åºçš„ä¼ä¸šçº§ AI æ™ºèƒ½ä½“æ’ä»¶ç³»ç»Ÿ

[![Next.js](https://img.shields.io/badge/Next.js-15-black)](https://nextjs.org/)
[![Go](https://img.shields.io/badge/Go-1.21+-00ADD8)](https://golang.org/)
[![Python](https://img.shields.io/badge/Python-3.11+-3776AB)](https://python.org/)
[![LangChain](https://img.shields.io/badge/LangChain-Latest-green)](https://langchain.com/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5-blue)](https://typescriptlang.org/)

</div>

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¤– å¤šæ™ºèƒ½ä½“ç®¡ç†

- **è§’è‰²å®šåˆ¶**ï¼šå¯è§†åŒ–é…ç½® AI è§’è‰²ã€ä¸“ä¸šé¢†åŸŸå’Œèƒ½åŠ›èŒƒå›´
- **æç¤ºè¯å·¥ç¨‹**ï¼šé«˜çº§æç¤ºè¯ç¼–è¾‘å™¨ï¼Œæ”¯æŒæ¨¡æ¿å’Œå˜é‡
- **æ™ºèƒ½ä½“å¸‚åœº**ï¼šä¸°å¯Œçš„é¢„è®¾æ™ºèƒ½ä½“æ¨¡æ¿åº“

### ğŸ”„ å®æ—¶å¯¹è¯ç³»ç»Ÿ

- **Webhook é›†æˆ**ï¼šæ— ç¼å¯¹æ¥ DooTask æœºå™¨äººç³»ç»Ÿ
- **SSE å®æ—¶æ›´æ–°**ï¼šæµå¼ AI å›å¤ï¼Œç”¨æˆ·ä½“éªŒæµç•…
- **ä¸Šä¸‹æ–‡ç®¡ç†**ï¼šæ™ºèƒ½ç»´æŠ¤å¯¹è¯å†å²å’Œä¸Šä¸‹æ–‡

### ğŸ› ï¸ MCP åè®®é›†æˆ

- **å†…éƒ¨å·¥å…·**ï¼šæ·±åº¦é›†æˆ DooTask åŠŸèƒ½ï¼ˆèŠå¤©è®°å½•ã€é¡¹ç›®ç®¡ç†ã€ä»»åŠ¡åˆ†é…ï¼‰
- **å¤–éƒ¨å·¥å…·**ï¼šæ”¯æŒå¤©æ°”æŸ¥è¯¢ã€ç½‘é¡µæœç´¢ã€é‚®ä»¶å‘é€ç­‰ç¬¬ä¸‰æ–¹æœåŠ¡
- **å·¥å…·æƒé™**ï¼šç²¾ç»†åŒ–æ§åˆ¶ä¸åŒæ™ºèƒ½ä½“çš„å·¥å…·è®¿é—®æƒé™

### ğŸ“š çŸ¥è¯†åº“ç³»ç»Ÿ

- **å¤šæ ¼å¼æ”¯æŒ**ï¼šPDFã€Wordã€Excelã€Markdown ç­‰æ–‡æ¡£æ ¼å¼
- **å‘é‡åŒ–æ£€ç´¢**ï¼šåŸºäº AI Embedding çš„è¯­ä¹‰æœç´¢
- **ç‰ˆæœ¬æ§åˆ¶**ï¼šå®Œæ•´çš„çŸ¥è¯†åº“ç‰ˆæœ¬ç®¡ç†æœºåˆ¶

### ğŸ¢ ä¼ä¸šçº§ç‰¹æ€§

- **å¤šç§Ÿæˆ·æ”¯æŒ**ï¼šæ”¯æŒå¤šä¸ªä¼ä¸šç‹¬ç«‹ä½¿ç”¨
- **æƒé™ç®¡ç†**ï¼šåŸºäºè§’è‰²çš„ç²¾ç»†è®¿é—®æ§åˆ¶
- **å®¡è®¡æ—¥å¿—**ï¼šå®Œæ•´çš„æ“ä½œå’Œå¯¹è¯å®¡è®¡è¿½è¸ª
- **æ•°æ®å®‰å…¨**ï¼šç«¯åˆ°ç«¯åŠ å¯†å’Œéšç§ä¿æŠ¤

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

```mermaid
graph TB
    subgraph "DooTask ä¸»ç¨‹åº"
        DT[èŠå¤©ç³»ç»Ÿ]
        BOT[æœºå™¨äºº]
    end

    subgraph "AI æ’ä»¶ç³»ç»Ÿ"
        subgraph "å‰ç«¯å±‚"
            UI[Next.js]
            COMP[shadcn/ui]
        end

        subgraph "æœåŠ¡å±‚"
            GO[Go ä¸»æœåŠ¡]
            PY[Python AI]
        end

        subgraph "åè®®å±‚"
            MCP[MCP åè®®]
            TOOLS[å·¥å…·é›†æˆ]
        end

        subgraph "æ•°æ®å±‚"
            PG[(PostgreSQL)]
            REDIS[(Redis)]
            VECTOR[(Vector DB)]
        end
    end

    DT -->|Webhook| GO
    GO --> PY
    PY --> MCP
    MCP --> TOOLS
```

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

#### å‰ç«¯æŠ€æœ¯

- **[Next.js 15](https://nextjs.org/)** - React å…¨æ ˆæ¡†æ¶
- **[shadcn/ui](https://ui.shadcn.com/)** - ç°ä»£åŒ–ç»„ä»¶åº“
- **[Tailwind CSS](https://tailwindcss.com/)** - åŸå­åŒ– CSS æ¡†æ¶
- **[TypeScript](https://typescriptlang.org/)** - ç±»å‹å®‰å…¨çš„ JavaScript

#### åç«¯æŠ€æœ¯

- **[Go](https://golang.org/)** - é«˜æ€§èƒ½ API ç½‘å…³æœåŠ¡
- **[Python](https://python.org/)** - AI å¼•æ“å’Œ LangChain æœåŠ¡
- **[LangChain](https://langchain.com/)** - AI åº”ç”¨å¼€å‘æ¡†æ¶
- **[PostgreSQL](https://postgresql.org/)** - ä¸»æ•°æ®åº“ï¼ˆæ”¯æŒå‘é‡æœç´¢ï¼‰
- **[Redis](https://redis.io/)** - ç¼“å­˜å’Œä¼šè¯å­˜å‚¨

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 22+
- Go 1.21+
- Python 3.11+
- Docker & Docker Compose

### ä¸€é”®å¯åŠ¨

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/dootask/ai.git
cd ai

# å¿«é€Ÿå¯åŠ¨ï¼ˆæ¨èï¼‰
npm run quick-start
```

### æ‰‹åŠ¨å®‰è£…

```bash
# 1. å®‰è£…å‰ç«¯ä¾èµ–
npm install

# 2. å¤åˆ¶ç¯å¢ƒé…ç½®
cp config.example.env .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ OpenAI API Key ç­‰é…ç½®

# 3. å¯åŠ¨æ•°æ®åº“æœåŠ¡
npm run db:up

# 4. åˆå§‹åŒ–æ•°æ®åº“
docker exec -i dootask-ai-postgres psql -U dootask -d dootask_ai < scripts/init.sql

# 5. å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
npm run dev
```

### è®¿é—®åº”ç”¨

- **å‰ç«¯ç•Œé¢**: http://localhost:3000
- **API æ–‡æ¡£**: http://localhost:8080/swagger (å¼€å‘ä¸­)
- **æ•°æ®åº“**: PostgreSQL (localhost:5432)

## ğŸ“– ä½¿ç”¨æŒ‡å—

### é…ç½®æ™ºèƒ½ä½“

1. è®¿é—® [æ™ºèƒ½ä½“ç®¡ç†é¡µé¢](http://localhost:3000/agents)
2. ç‚¹å‡»"åˆ›å»ºæ™ºèƒ½ä½“"æŒ‰é’®
3. é…ç½®æ™ºèƒ½ä½“ä¿¡æ¯ï¼š
   - **åç§°å’Œæè¿°**ï¼šå®šä¹‰æ™ºèƒ½ä½“çš„åŸºæœ¬ä¿¡æ¯
   - **è§’è‰²æç¤ºè¯**ï¼šè®¾ç½® AI çš„è§’è‰²å’Œè¡Œä¸ºæ¨¡å¼
   - **æ¨¡å‹é€‰æ‹©**ï¼šé€‰æ‹© GPT-3.5ã€GPT-4 ç­‰æ¨¡å‹
   - **å·¥å…·æƒé™**ï¼šé€‰æ‹©æ™ºèƒ½ä½“å¯ä»¥ä½¿ç”¨çš„å·¥å…·
   - **çŸ¥è¯†åº“ç»‘å®š**ï¼šå…³è”ç›¸å…³çš„çŸ¥è¯†åº“

### é›†æˆ DooTask æœºå™¨äºº

1. åœ¨ DooTask ä¸­åˆ›å»ºæœºå™¨äºº
2. é…ç½®æœºå™¨äººçš„ Webhook åœ°å€ï¼š`http://your-domain/api/webhook/message`
3. åœ¨æ’ä»¶ä¸­ç»‘å®šæœºå™¨äºº ID å’Œæ™ºèƒ½ä½“
4. å¼€å§‹åœ¨ DooTask ä¸­ä¸ AI æ™ºèƒ½ä½“å¯¹è¯

### ç®¡ç†çŸ¥è¯†åº“

1. è®¿é—® [çŸ¥è¯†åº“ç®¡ç†é¡µé¢](http://localhost:3000/knowledge)
2. åˆ›å»ºçŸ¥è¯†åº“å¹¶ä¸Šä¼ æ–‡æ¡£
3. ç³»ç»Ÿè‡ªåŠ¨è¿›è¡Œæ–‡æ¡£è§£æå’Œå‘é‡åŒ–
4. å°†çŸ¥è¯†åº“ç»‘å®šåˆ°ç›¸åº”çš„æ™ºèƒ½ä½“

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
dootask-ai/                 # Next.js å‰ç«¯é¡¹ç›®æ ¹ç›®å½•
â”œâ”€â”€ app/                    # Next.js App Router é¡µé¢
â”œâ”€â”€ components/             # å…±äº« React ç»„ä»¶
â”œâ”€â”€ lib/                   # å‰ç«¯å·¥å…·åº“å’Œ API æ¥å£
â”œâ”€â”€ public/                # é™æ€èµ„æºæ–‡ä»¶
â”œâ”€â”€ backend/               # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ go-service/        # Go ä¸»æœåŠ¡
â”‚   â””â”€â”€ python-ai/         # Python AI æœåŠ¡
â”œâ”€â”€ mcp-tools/             # MCP å·¥å…·é›†
â”œâ”€â”€ docker/                # Docker é…ç½®
â”œâ”€â”€ scripts/               # éƒ¨ç½²å’Œåˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ docs/                  # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ package.json           # Node.js ä¾èµ–é…ç½®
â””â”€â”€ next.config.ts         # Next.js é…ç½®æ–‡ä»¶
```

### å¼€å‘å‘½ä»¤

```bash
# å‰ç«¯å¼€å‘
npm run dev              # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run build           # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run lint            # ä»£ç æ£€æŸ¥
npm run format          # ä»£ç æ ¼å¼åŒ–

# æ•°æ®åº“ç®¡ç†
npm run db:up           # å¯åŠ¨æ•°æ®åº“
npm run db:down         # åœæ­¢æ•°æ®åº“
npm run db:reset        # é‡ç½®æ•°æ®åº“

# æ—¥å¿—æŸ¥çœ‹
npm run logs:go         # Go æœåŠ¡æ—¥å¿—
npm run logs:python     # Python æœåŠ¡æ—¥å¿—
npm run logs:db         # æ•°æ®åº“æ—¥å¿—
```

### æ‰©å±•å¼€å‘

#### æ·»åŠ æ–°çš„ MCP å·¥å…·

1. åœ¨ `mcp-tools/` ç›®å½•åˆ›å»ºå·¥å…·å®šä¹‰
2. å®ç°å·¥å…·çš„æ¥å£å’Œé€»è¾‘
3. åœ¨æ™ºèƒ½ä½“é…ç½®ä¸­å¯ç”¨è¯¥å·¥å…·

#### è‡ªå®šä¹‰æ™ºèƒ½ä½“ç±»å‹

1. åœ¨ `backend/python-ai/agents/` ç›®å½•æ·»åŠ æ™ºèƒ½ä½“ç±»
2. ç»§æ‰¿ `BaseAgent` å¹¶å®ç°ç‰¹å®šé€»è¾‘
3. åœ¨å‰ç«¯æ·»åŠ å¯¹åº”çš„é…ç½®ç•Œé¢

## ğŸ“š æ–‡æ¡£é“¾æ¥

- [é¡¹ç›®è§„åˆ’](./docs/PROJECT_PLAN.md) - å®Œæ•´çš„é¡¹ç›®è§„åˆ’å’Œå‘å±•è·¯çº¿å›¾
- [æŠ€æœ¯æ¶æ„](./docs/ARCHITECTURE.md) - è¯¦ç»†çš„æŠ€æœ¯æ¶æ„è®¾è®¡æ–‡æ¡£
- [å¼€å‘æŒ‡å—](./docs/DEVELOPMENT.md) - å¼€å‘ç¯å¢ƒæ­å»ºå’Œç¼–ç è§„èŒƒ
- [éƒ¨ç½²æŒ‡å—](./docs/DEPLOYMENT.md) - ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²è¯´æ˜ (å¼€å‘ä¸­)

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### å¦‚ä½•è´¡çŒ®

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

### å¼€å‘è§„èŒƒ

- éµå¾ª [ä»£ç è§„èŒƒ](./docs/DEVELOPMENT.md#ä»£ç è§„èŒƒ)
- ç¼–å†™æµ‹è¯•ç”¨ä¾‹
- æ›´æ–°ç›¸å…³æ–‡æ¡£
- ç¡®ä¿ CI é€šè¿‡

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®åŸºäº [MIT åè®®](./LICENSE) å¼€æºã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®çš„è´¡çŒ®ï¼š

- [Next.js](https://nextjs.org/) - React å…¨æ ˆæ¡†æ¶
- [LangChain](https://langchain.com/) - AI åº”ç”¨å¼€å‘æ¡†æ¶
- [shadcn/ui](https://ui.shadcn.com/) - ç°ä»£åŒ– UI ç»„ä»¶åº“
- [OpenAI](https://openai.com/) - å¼ºå¤§çš„ AI æ¨¡å‹æ”¯æŒ

## ğŸ“ è”ç³»æˆ‘ä»¬

- é¡¹ç›®ä¸»é¡µï¼š[https://github.com/dootask/ai](https://github.com/dootask/ai)
- é—®é¢˜åé¦ˆï¼š[Issues](https://github.com/dootask/ai/issues)
- åŠŸèƒ½å»ºè®®ï¼š[Discussions](https://github.com/dootask/ai/discussions)

---

<div align="center">
  Made with â¤ï¸ by <a href="https://dootask.com">DooTask Team</a>
</div>
