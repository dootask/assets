# 企业固定资产管理系统 - 实施计划

## 任务概述

将DooTask AI插件改造为企业固定资产管理系统的完整实施计划，包括代码清理、架构重构、功能开发等所有编码任务。

## 实施任务

- [x] 1. 项目清理和重构
  - 删除所有AI相关的代码和文件
  - 重构项目结构，将后端服务移动到server目录
  - 更新配置文件和依赖
  - _需求: 7.1, 7.2_

- [x] 1.1 删除AI相关前端代码
  - 删除app/agents、app/conversations、app/knowledge、app/models、app/tools目录
  - 删除components中AI相关组件
  - 清理package.json中AI相关依赖（@dootask/tools等）
  - _需求: 7.1_

- [x] 1.2 删除AI相关后端代码
  - 删除backend/python-ai整个目录
  - 删除backend/go-service中AI、MCP、Webhook相关代码
  - 删除mcp-tools目录
  - _需求: 7.1_

- [x] 1.3 重构后端服务结构
  - 将backend/go-service目录移动到server
  - 更新Go模块路径和导入语句
  - 重新组织server目录结构（handlers、models、services等）
  - _需求: 7.2_

- [x] 1.4 更新项目配置文件
  - 修改package.json的项目信息和脚本
  - 更新README.md为固定资产管理系统说明
  - 更新.cursor/rules配置文件
  - 更新docs目录下的文档
  - _需求: 7.2_

- [x] 2. 数据库和基础架构搭建
  - 设计并实现SQLite数据库结构
  - 创建数据模型和ORM映射
  - 实现数据库迁移和初始化
  - _需求: 7.2_

- [x] 2.1 创建数据库模型
  - 实现Category、Department、Asset、BorrowRecord等Go结构体
  - 添加GORM标签和数据验证
  - 创建数据库关系映射
  - _需求: 2.1, 3.1, 1.1, 4.1_

- [x] 2.2 实现数据库迁移
  - 创建数据库初始化脚本
  - 实现自动建表和索引创建
  - 添加初始数据种子
  - _需求: 7.2_

- [x] 2.3 搭建Go HTTP服务框架
  - 配置Gin路由和中间件
  - 实现统一的API响应格式
  - 添加错误处理和日志记录
  - 实现文件上传功能
  - _需求: 7.4_

- [x] 3. 资产管理模块开发
  - 实现资产的CRUD操作
  - 开发资产列表、详情、编辑页面
  - 实现资产搜索和筛选功能
  - _需求: 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7_

- [x] 3.1 实现资产后端API
  - 创建资产相关的HTTP处理器
  - 实现资产增删改查的业务逻辑
  - 添加资产编号唯一性验证
  - 实现资产状态管理
  - _需求: 1.1, 1.3, 1.5, 1.6_

- [x] 3.2 开发资产管理前端页面
  - 创建资产列表页面（app/assets/page.tsx）
  - 实现资产新增页面（app/assets/new/page.tsx）
  - 开发资产详情和编辑页面
  - 添加资产搜索和筛选组件
  - _需求: 1.1, 1.2, 1.4, 1.7_

- [x] 3.3 实现资产表单组件
  - 创建AssetForm组件处理资产信息录入
  - 实现图片上传功能
  - 添加表单验证和错误处理
  - 支持自定义属性字段
  - _需求: 1.2, 1.3, 7.3_

- [x] 4. 分类管理模块开发
  - 实现分类的树形结构管理
  - 开发分类增删改查功能
  - 实现分类属性模板配置
  - _需求: 2.1, 2.2, 2.3, 2.4, 2.5_

- [x] 4.1 实现分类后端API
  - 创建分类的HTTP处理器
  - 实现树形分类的查询和操作
  - 添加分类删除时的资产检查
  - 实现分类属性模板管理
  - _需求: 2.1, 2.2, 2.3, 2.4, 2.5_

- [x] 4.2 开发分类管理前端页面
  - 创建分类管理页面（app/categories/page.tsx）
  - 实现CategoryTree组件显示树形结构
  - 添加分类新增、编辑、删除功能
  - 实现分类属性模板配置界面
  - _需求: 2.1, 2.2, 2.3, 2.5_

- [x] 5. 部门管理模块开发
  - 实现部门信息的CRUD操作
  - 开发部门列表和详情页面
  - 实现部门与资产的关联管理
  - _需求: 3.1, 3.2, 3.3, 3.4, 3.5_

- [x] 5.1 实现部门后端API
  - 创建部门相关的HTTP处理器
  - 实现部门增删改查业务逻辑
  - 添加部门删除时的资产关联检查
  - 实现部门资产统计功能
  - _需求: 3.1, 3.2, 3.3, 3.4, 3.5_

- [x] 5.2 开发部门管理前端页面
  - 创建部门列表页面（app/departments/page.tsx）
  - 实现部门详情页面显示部门资产
  - 添加部门新增、编辑、删除功能
  - 创建部门选择组件供其他模块使用
  - _需求: 3.1, 3.2, 3.3, 3.5_

- [x] 6. 借用管理模块开发
  - 实现资产借用和归还流程
  - 开发借用记录管理功能
  - 实现超期提醒和状态跟踪
  - _需求: 4.1, 4.2, 4.3, 4.4, 4.5, 4.6_

- [x] 6.1 实现借用管理后端API
  - 创建借用记录的HTTP处理器
  - 实现借用申请和归还业务逻辑
  - 添加资产状态自动更新
  - 实现超期检查和统计功能
  - _需求: 4.1, 4.2, 4.3, 4.5, 4.6_

- [x] 6.2 开发借用管理前端页面
  - 创建借用记录页面（app/borrow/page.tsx）
  - 实现借用申请页面（app/borrow/new/page.tsx）
  - 开发归还处理页面（app/borrow/return/page.tsx）
  - 添加超期记录标识和提醒
  - _需求: 4.1, 4.3, 4.4, 4.5, 4.6_

- [x] 6.3 实现借用表单和组件
  - 创建BorrowForm组件处理借用申请
  - 实现可借用资产选择器
  - 添加借用记录列表组件
  - 实现归还确认对话框
  - _需求: 4.1, 4.3, 4.6_

- [ ] 7. 盘点管理模块开发
  - 实现盘点任务创建和管理
  - 开发盘点执行和记录功能
  - 实现盘点报告生成
  - _需求: 5.1, 5.2, 5.3, 5.4, 5.5, 5.6_

- [ ] 7.1 实现盘点管理后端API
  - 创建盘点任务的HTTP处理器
  - 实现盘点记录的提交和处理
  - 添加盘点结果统计和分析
  - 实现盘点报告生成功能
  - _需求: 5.1, 5.2, 5.4, 5.5, 5.6_

- [ ] 7.2 开发盘点管理前端页面
  - 创建盘点任务列表页面（app/inventory/page.tsx）
  - 实现盘点任务创建页面（app/inventory/new/page.tsx）
  - 开发盘点执行页面（app/inventory/[id]/page.tsx）
  - 创建盘点报告页面（app/inventory/[id]/report/page.tsx）
  - _需求: 5.1, 5.2, 5.3, 5.5, 5.6_

- [ ] 7.3 实现盘点执行组件
  - 创建盘点清单组件
  - 实现资产扫描/录入界面
  - 添加盘点差异记录功能
  - 实现盘点进度跟踪
  - _需求: 5.2, 5.3, 5.4_

- [ ] 8. 报表统计模块开发
  - 实现各类统计报表功能
  - 开发图表展示组件
  - 实现报表导出功能
  - _需求: 6.1, 6.2, 6.3, 6.4, 6.5, 6.6, 6.7_

- [ ] 8.1 实现报表统计后端API
  - 创建报表数据统计的HTTP处理器
  - 实现资产、借用、盘点等各类统计
  - 添加自定义报表查询功能
  - 实现Excel导出功能
  - _需求: 6.1, 6.2, 6.3, 6.4, 6.5, 6.6_

- [ ] 8.2 开发报表统计前端页面
  - 创建报表首页（app/reports/page.tsx）
  - 实现资产统计报表页面（app/reports/assets/page.tsx）
  - 开发借用统计报表页面（app/reports/borrow/page.tsx）
  - 创建盘点统计报表页面（app/reports/inventory/page.tsx）
  - _需求: 6.1, 6.2, 6.3, 6.4_

- [ ] 8.3 实现图表和导出组件
  - 集成Recharts创建各类图表组件
  - 实现报表筛选和自定义功能
  - 添加Excel导出按钮和功能
  - 创建报表打印样式
  - _需求: 6.5, 6.6, 6.7_

- [ ] 9. 仪表板和导航开发
  - 实现系统仪表板页面
  - 开发主导航和布局组件
  - 实现响应式设计
  - _需求: 7.7_

- [ ] 9.1 开发系统仪表板
  - 创建仪表板页面（app/dashboard/page.tsx）
  - 实现关键指标卡片组件
  - 添加快速操作入口
  - 集成图表展示概览数据
  - _需求: 6.1_

- [ ] 9.2 实现主导航和布局
  - 更新app/layout.tsx为资产管理系统布局
  - 创建主导航菜单组件
  - 实现面包屑导航
  - 添加响应式侧边栏
  - _需求: 7.7_

- [ ] 9.3 优化移动端体验
  - 实现响应式表格组件
  - 优化移动端表单交互
  - 添加移动端专用操作按钮
  - 测试各设备兼容性
  - _需求: 7.7_

- [ ] 10. 系统功能完善和测试
  - 实现批量操作功能
  - 添加操作日志记录
  - 完善错误处理和用户提示
  - _需求: 7.5, 7.6_

- [ ] 10.1 实现批量操作功能
  - 添加资产批量导入功能
  - 实现批量状态更新
  - 创建批量删除确认机制
  - 添加操作进度提示
  - _需求: 7.5_

- [ ] 10.2 完善操作日志系统
  - 实现操作日志记录中间件
  - 创建日志查看页面
  - 添加敏感操作审计
  - 实现日志搜索和筛选
  - _需求: 7.6_

- [ ] 10.3 优化用户体验
  - 添加加载状态和骨架屏
  - 实现操作成功/失败提示
  - 优化表单验证提示
  - 添加确认对话框和警告提示
  - _需求: 7.4_

- [ ] 11. 部署配置和文档更新
  - 配置生产环境构建
  - 更新项目文档
  - 创建用户使用手册
  - _需求: 7.2_

- [ ] 11.1 配置生产环境
  - 优化Go服务的构建配置
  - 配置静态文件服务
  - 添加环境变量配置
  - 创建启动脚本
  - _需求: 7.2_

- [ ] 11.2 更新项目文档
  - 重写README.md为资产管理系统说明
  - 更新ARCHITECTURE.md技术架构文档
  - 创建API文档
  - 编写部署指南
  - _需求: 7.2_