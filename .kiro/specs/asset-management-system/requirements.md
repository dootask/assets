# 企业固定资产管理系统 - 需求文档

## 项目简介

将现有的DooTask AI插件项目改造成一个轻量的企业固定资产管理系统，提供完整的资产生命周期管理功能。

## 需求概述

### 需求1：资产管理模块

**用户故事：** 作为资产管理员，我希望能够对企业固定资产进行全生命周期管理，以便有效跟踪和管理企业资产。

#### 验收标准

1. WHEN 用户访问资产管理页面 THEN 系统 SHALL 显示所有资产的列表视图
2. WHEN 用户点击"新增资产"按钮 THEN 系统 SHALL 显示资产登记表单
3. WHEN 用户填写资产信息并提交 THEN 系统 SHALL 验证必填字段并保存资产信息
4. WHEN 用户搜索资产 THEN 系统 SHALL 支持按资产编号、名称、分类等条件进行查询
5. WHEN 用户选择资产进行编辑 THEN 系统 SHALL 允许修改资产信息
6. WHEN 资产需要报废 THEN 系统 SHALL 提供资产报废功能并记录报废时间和原因
7. WHEN 用户查看资产详情 THEN 系统 SHALL 显示资产的完整信息和历史记录

### 需求2：分类管理模块

**用户故事：** 作为资产管理员，我希望建立完善的资产分类体系，以便更好地组织和管理不同类型的资产。

#### 验收标准

1. WHEN 用户访问分类管理页面 THEN 系统 SHALL 以树形结构显示资产分类
2. WHEN 用户添加新分类 THEN 系统 SHALL 支持创建主分类和子分类
3. WHEN 用户编辑分类信息 THEN 系统 SHALL 允许修改分类名称和描述
4. WHEN 用户删除分类 THEN 系统 SHALL 检查该分类下是否有资产，如有则不允许删除
5. WHEN 用户为分类设置属性模板 THEN 系统 SHALL 支持为不同分类定义特定的属性字段

### 需求3：部门管理模块

**用户故事：** 作为资产管理员，我希望管理企业部门信息和责任人，以便明确资产的使用部门和责任归属。

#### 验收标准

1. WHEN 用户访问部门管理页面 THEN 系统 SHALL 显示所有部门的列表
2. WHEN 用户添加新部门 THEN 系统 SHALL 允许输入部门名称、负责人等信息
3. WHEN 用户编辑部门信息 THEN 系统 SHALL 支持修改部门详细信息
4. WHEN 用户删除部门 THEN 系统 SHALL 检查该部门是否有关联资产，如有则提示不能删除
5. WHEN 用户查看部门详情 THEN 系统 SHALL 显示该部门下的所有资产

### 需求4：借用管理模块

**用户故事：** 作为资产使用者，我希望能够借用和归还资产，以便规范化管理资产的使用流程。

#### 验收标准

1. WHEN 用户申请借用资产 THEN 系统 SHALL 记录借用人、借用时间、预计归还时间等信息
2. WHEN 资产被借用 THEN 系统 SHALL 更新资产状态为"借用中"
3. WHEN 用户归还资产 THEN 系统 SHALL 记录实际归还时间并更新资产状态
4. WHEN 查看借用记录 THEN 系统 SHALL 显示所有借用历史和当前借用状态
5. WHEN 资产超期未归还 THEN 系统 SHALL 在借用记录中标识超期状态
6. WHEN 用户查询可借用资产 THEN 系统 SHALL 只显示状态为"可用"的资产

### 需求5：盘点管理模块

**用户故事：** 作为资产管理员，我希望能够定期进行资产盘点，以便确保资产信息的准确性和完整性。

#### 验收标准

1. WHEN 用户创建盘点任务 THEN 系统 SHALL 允许选择盘点范围（全部资产或特定分类/部门）
2. WHEN 盘点任务创建后 THEN 系统 SHALL 生成盘点清单并记录盘点开始时间
3. WHEN 执行盘点时 THEN 系统 SHALL 支持扫描或手动输入资产编号进行核对
4. WHEN 发现盘点差异 THEN 系统 SHALL 记录盘盈、盘亏情况
5. WHEN 盘点完成 THEN 系统 SHALL 生成盘点报告并更新资产状态
6. WHEN 查看历史盘点 THEN 系统 SHALL 显示所有盘点记录和结果

### 需求6：报表统计模块

**用户故事：** 作为管理层，我希望能够查看各种资产统计报表，以便了解资产使用情况和制定管理决策。

#### 验收标准

1. WHEN 用户访问报表页面 THEN 系统 SHALL 提供多种预设报表模板
2. WHEN 生成资产统计报表 THEN 系统 SHALL 显示按分类、部门、状态等维度的统计数据
3. WHEN 生成借用统计报表 THEN 系统 SHALL 显示借用频率、超期情况等统计信息
4. WHEN 生成盘点报表 THEN 系统 SHALL 显示盘点结果和差异分析
5. WHEN 用户自定义报表 THEN 系统 SHALL 支持选择统计维度和时间范围
6. WHEN 导出报表 THEN 系统 SHALL 支持导出为Excel格式
7. WHEN 查看图表 THEN 系统 SHALL 提供柱状图、饼图等可视化展示

### 需求7：系统基础功能

**用户故事：** 作为系统用户，我希望系统提供稳定可靠的基础功能，以便顺畅地使用各项功能。

#### 验收标准

1. WHEN 用户访问系统 THEN 系统 SHALL 无需登录即可使用所有功能
2. WHEN 系统启动 THEN 系统 SHALL 自动创建SQLite数据库和必要的表结构
3. WHEN 用户上传资产图片 THEN 系统 SHALL 支持常见图片格式的上传和存储
4. WHEN 系统处理数据 THEN 系统 SHALL 提供适当的加载提示和错误处理
5. WHEN 用户进行批量操作 THEN 系统 SHALL 支持批量导入和导出功能
6. WHEN 数据发生变更 THEN 系统 SHALL 记录操作日志用于审计
7. WHEN 系统运行 THEN 系统 SHALL 提供响应式设计支持移动端访问
